{"cells":[{"cell_type":"markdown","metadata":{"id":"MR-ZUzHrnzxD"},"source":["# Housing analytic file\n","## Sandra Tilmon\n","## 6/26/2023\n","\n","\n","#### Change log:\n","Date        Change\n","\n","\n","**Future work**\n","* https://hudgis-hud.opendata.arcgis.com/datasets/HUD::usda-rural-housing-by-tract/about"]},{"cell_type":"markdown","metadata":{"id":"TvFmvEHiPj4Q"},"source":["# Setup"]},{"cell_type":"code","execution_count":1,"metadata":{"id":"btWvzOPRfEYF","executionInfo":{"status":"ok","timestamp":1727817253273,"user_tz":300,"elapsed":5815,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["import pandas as pd\n","import numpy as np\n","\n","import math\n","import matplotlib\n","import matplotlib.pyplot as plt\n","import scipy.stats\n","\n","import seaborn as sns\n","\n","import os\n","import re\n","from functools import reduce\n","import requests\n","\n","import geopandas as gpd\n","from shapely.geometry import shape, Point\n","import geopy\n","from geopy.extra.rate_limiter import RateLimiter\n","from geopy import geocoders\n","from geopy.geocoders import GoogleV3\n","\n","from timeit import default_timer as timer\n","\n","pd.set_option('display.max_rows', None)\n","pd.set_option('display.max_columns', None)\n","pd.set_option('display.width', None)\n","\n","# No scientific notation\n","pd.options.display.float_format = '{:.2f}'.format\n","\n","%matplotlib inline"]},{"cell_type":"code","execution_count":2,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":21853,"status":"ok","timestamp":1727817275124,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"},"user_tz":300},"id":"yFaDBPZ8h85t","outputId":"ada9e658-8e3b-46fa-d00c-89a937652b5d"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/gdrive\n"]}],"source":["# Mount drive\n","\n","from google.colab import drive\n","drive.mount('/content/gdrive')"]},{"cell_type":"code","execution_count":3,"metadata":{"id":"pb3e7cfSh88a","executionInfo":{"status":"ok","timestamp":1727817275124,"user_tz":300,"elapsed":2,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Raw data sources\n","dir = '/content/gdrive/My Drive/Sociome_Folder/Data/'\n","\n","# Output curated datasets\n","curated = '/content/gdrive/My Drive/Sociome_Folder/Data Commons/Curated datasets/'"]},{"cell_type":"code","execution_count":4,"metadata":{"id":"QDL07PEznCVi","executionInfo":{"status":"ok","timestamp":1727817275354,"user_tz":300,"elapsed":232,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Empty list to collect dataframe names\n","\n","frames = []"]},{"cell_type":"markdown","metadata":{"id":"q-FSkUKY1CP9"},"source":["# GIS"]},{"cell_type":"markdown","metadata":{"id":"HzfmglqK-PGy"},"source":["## Set CRS\n","\n","North America https://epsg.io/?q=North%20America%20%20kind%3APROJCRS"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"QAsNvSGr-QJO"},"outputs":[],"source":["crs = {'init' :'epsg:4269'}"]},{"cell_type":"markdown","metadata":{"id":"h97N1NUiBzf3"},"source":["## Census tracts"]},{"cell_type":"code","execution_count":5,"metadata":{"id":"QYqmv1HF-md3","executionInfo":{"status":"ok","timestamp":1727817302207,"user_tz":300,"elapsed":26854,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["tracts = pd.read_csv(dir + \"Census Data/2010 census tracts/national_census.csv\")\n","tracts.drop(columns=['Unnamed: 0', 'STATEFP10', 'COUNTYFP10', 'ALAND10','AWATER10',\n","                     'INTPTLAT10','INTPTLON10', 'geometry'], inplace=True)\n","\n","frames.append('tracts')"]},{"cell_type":"markdown","metadata":{"id":"RHW-yjPvmlI4"},"source":["## Functions"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"anLMOmMmmmAb"},"outputs":[],"source":["# Lat/long coordinates to census tract\n","\n","def LatLongTract(infile, lat, long):\n","\n","  # establish lat/long point geometry\n","  geometry = [Point(xy) for xy in zip(infile[long], infile[lat])]\n","\n","  # Make a geo dataframe, set CRS\n","  gdf = gpd.GeoDataFrame(infile, geometry=geometry)\n","  gdf = gdf.set_crs(crs)\n","\n","  # Intersect lat/long points and census tract\n","  result=gpd.sjoin(gdf, tracts_shp, how='left', op='within')\n","\n","  result.drop(columns=['index_right'], inplace=True)\n","\n","  # Standardize census tract GEOID to uppercase throughout notebooks\n","  result.rename(columns={\"geoid10\" : \"GEOID10\"}, inplace=True)\n","  return(result)\n","\n","\n","\n","# One line street address to lat/long coordinates and then census tract\n","\n","def AddLatLongTract(infile):\n","\n","  # Create \"oneline\" address in cleaning each dataset to something like:\n","  # \"123 N Main Street Chicago, IL 60000\"\n","  # Field names and structure vary so not bothering trying to integrate here.\n","\n","  # g = geocoders.GoogleV3(api_key='')\n","\n","  def Gv3_latlong (address):\n","      location = g.geocode(address)\n","      lat = location.latitude\n","      long = location.longitude\n","      # Perform additional steps to obtain census tract from coordinates\n","      # census_tract = get_census_tract_from_coordinates(latitude, longitude)\n","      return lat, long, location\n","\n","  infile[['lat', 'long', 'Location']] = infile['oneline'].apply(Gv3_latlong).apply(pd.Series)\n","\n","  # establish lat/long point geometry\n","  geometry = [Point(xy) for xy in zip(infile['long'], infile['lat'])]\n","\n","  # Make a geo dataframe, set CRS\n","  gdf = gpd.GeoDataFrame(infile, geometry=geometry)\n","  gdf = gdf.set_crs(crs)\n","\n","  # Intersect lat/long points and census tract\n","  result=gpd.sjoin(gdf, tracts_shp, how='left', op='within')\n","\n","  result.drop(columns=['index_right'], inplace=True)\n","\n","  # Standardize census tract GEOID10 to uppercase throughout notebooks\n","  result.rename(columns={\"geoid10\" : \"GEOID10\"}, inplace=True)\n","  return(result)"]},{"cell_type":"markdown","source":["# Council on Environmental Quality (CEQ)\n","\n","https://screeningtool.geoplatform.gov/"],"metadata":{"id":"6QBCROMWeDDV"}},{"cell_type":"code","source":["screen = pd.read_csv(dir + '/Climate and economic justice tool/1.0-communities.csv')\n","\n","\n","# Keep only social variables that contain new information (not in ACS)\n","screen2 = screen[['Census tract 2010 ID',\n","                  'Expected building loss rate (Natural Hazards Risk Index)',\n","                  'Expected building loss rate (Natural Hazards Risk Index) (percentile)',\n","                  'Greater than or equal to the 90th percentile for expected building loss rate and is low income?',\n","\n","                  'Housing burden (percent)',\n","                  'Housing burden (percent) (percentile)',\n","                  'Greater than or equal to the 90th percentile for housing burden and is low income?',\n","\n","                  'Percent pre-1960s housing (lead paint indicator)',\n","                  'Percent pre-1960s housing (lead paint indicator) (percentile)',\n","                  \"Greater than or equal to the 90th percentile for lead paint, the median house value is less than 90th percentile and is low income?\",\n","\n","                  'Energy burden',\n","                  'Energy burden (percentile)',\n","                  'Greater than or equal to the 90th percentile for energy burden and is low income?'\n","             ]]\n","\n","# Shorter names\n","newnames = {\n","    'Census tract 2010 ID': 'GEOID10',\n"," 'Greater than or equal to the 90th percentile for expected building loss rate and is low income?':'Bldg_loss_rate_ge90pct_lowinc',\n"," 'Expected building loss rate (Natural Hazards Risk Index) (percentile)':'Bldg_loss_rate_pctile',\n"," 'Expected building loss rate (Natural Hazards Risk Index)':'Bldg_loss_rate',\n"," 'Greater than or equal to the 90th percentile for housing burden and is low income?':'Housing_burden_ge90pct_lowinc',\n"," 'Housing burden (percent) (percentile)':'Housing_burden_pctile',\n"," 'Housing burden (percent)':'Housing_burden_pct',\n"," \"Greater than or equal to the 90th percentile for lead paint, the median house value is less than 90th percentile and is low income?\":'Lead_ge90pct_value_lt90pct_lowinc',\n"," 'Percent pre-1960s housing (lead paint indicator) (percentile)':'Lead_pre1960_pctile',\n"," 'Percent pre-1960s housing (lead paint indicator)':'Lead_pre1960',\n","    'Energy burden' : 'Energy_bdn',\n","    'Energy burden (percentile)' : 'Energy_bdn_pctile',\n","    'Greater than or equal to the 90th percentile for energy burden and is low income?': 'Energy_bdn_pctile_lowinc'\n","}\n","\n","screen2.rename(columns=newnames, inplace=True)\n","screen2.to_csv(dir + '/Climate and economic justice tool/housing.csv', index=False)"],"metadata":{"id":"KnAY78F0dR9K","colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"status":"ok","timestamp":1724891991021,"user_tz":300,"elapsed":1252,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"653e18bb-035a-4e2d-c356-a5ae9f7dbf1d"},"execution_count":null,"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-62-a5bd30b6c17a>:1: DtypeWarning: Columns (18,26,70,72,85,131) have mixed types. Specify dtype option on import or set low_memory=False.\n","  screen = pd.read_csv(dir + '/Climate and economic justice tool/1.0-communities.csv')\n","<ipython-input-62-a5bd30b6c17a>:40: SettingWithCopyWarning: \n","A value is trying to be set on a copy of a slice from a DataFrame\n","\n","See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n","  screen2.rename(columns=newnames, inplace=True)\n"]}]},{"cell_type":"markdown","source":["## Reload"],"metadata":{"id":"jU7hQKt2k_e7"}},{"cell_type":"code","source":["screen = pd.read_csv(dir + '/Climate and economic justice tool/housing.csv')\n","frames.append('screen')"],"metadata":{"id":"FBpRS3CLfaJX","executionInfo":{"status":"ok","timestamp":1727817303165,"user_tz":300,"elapsed":960,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"execution_count":6,"outputs":[]},{"cell_type":"markdown","source":["# Energy.gov"],"metadata":{"id":"J9kDnNNxOvQd"}},{"cell_type":"markdown","source":["## Low-income Energy Affodability Data (LEAD)\n","\n","Office of State and Community Energy Programs\n","\n","https://www.energy.gov/scep/low-income-energy-affordability-data-lead-tool-and-community-energy-solutions\n","\n","Stratified by federal poverty level"],"metadata":{"id":"MFmaCE09O2gQ"}},{"cell_type":"code","source":[],"metadata":{"id":"tf9LgKaIhlN9"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["### Process"],"metadata":{"id":"kLkL8HP6XeUG"}},{"cell_type":"code","source":["import pandas as pd\n","import os\n","\n","def process_files_in_zip_folder(zip_folder):\n","    unzipped_files = [f for f in os.listdir(zip_folder) if f.endswith('FPL Census Tracts 2018.csv')]\n","\n","    # Loop through each file\n","    for file in unzipped_files:\n","        # Load the CSV file into a DataFrame\n","        df = pd.read_csv(os.path.join(zip_folder, file))\n","\n","        # One-hot encode\n","        df_one_hot = pd.get_dummies(df[['HFL', 'YBL6', 'FPL15']], drop_first=False)\n","        df_one_hot = df_one_hot.astype(int)\n","\n","        # Combine original and one-hot encoded columns\n","        df = pd.concat([df, df_one_hot], axis=1)\n","\n","        # Drop the original columns\n","        df.drop(['HFL', 'YBL6', 'FPL15'], axis=1, inplace=True)\n","\n","        # Identify columns to sum\n","        columns_to_sum = [col for col in df.columns if col.startswith(('HFL', 'YBL6', 'FPL15'))]\n","\n","        # Group by 'FIP' and aggregate\n","        grouped_df = df.groupby('FIP').agg(\n","            {**{col: 'sum' for col in columns_to_sum},\n","             **{col: 'mean' for col in ['UNITS', 'HINCP*UNITS', 'ELEP*UNITS',\n","                                        'GASP*UNITS', 'FULP*UNITS',\n","                                        'ELEP', 'GASP', 'FULP']}}\n","        ).reset_index()\n","\n","        # Clean the column names\n","        grouped_df.columns = (\n","            grouped_df.columns\n","            .str.replace('%', '', regex=False)\n","            .str.replace('\\+', '', regex=True)\n","            .str.replace('*', '_', regex=False)\n","        )\n","\n","        # Create the new file name with the \"_v2\" suffix\n","        base_name, ext = os.path.splitext(file)\n","        new_file_name = f\"{base_name}_v2{ext}\"\n","\n","        # Save the processed DataFrame to a new CSV file\n","        grouped_df.to_csv(os.path.join(zip_folder, new_file_name), index=False)\n","\n","        print(f\"Processed file saved as: {new_file_name}\")\n","\n","# Process each file\n","zip_folder = '/content/gdrive/My Drive/Sociome_Folder/Dataset documentation/Web scraping results/'\n","process_files_in_zip_folder(zip_folder)"],"metadata":{"id":"lwXicASzd2M9"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["temp = pd.read_csv('/content/gdrive/My Drive/Sociome_Folder/Dataset documentation/Web scraping results/AK FPL Census Tracts 2018.csv')\n","temp.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":330},"id":"creyorhpnYZn","executionInfo":{"status":"ok","timestamp":1726687923903,"user_tz":300,"elapsed":1486,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"dee2fdc4-93d8-4b9f-f903-932e21e674ed"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["  ABV         FIP    TEN     YBL6         BLD          HFL     FPL15  UNITS  HINCP*UNITS  \\\n","0  AK  2013000100  OWNER  1940-59  1 ATTACHED  ELECTRICITY    0-100%   0.00         0.00   \n","1  AK  2013000100  OWNER  1940-59  1 ATTACHED  ELECTRICITY  100-150%   0.00         0.00   \n","2  AK  2013000100  OWNER  1940-59  1 ATTACHED  ELECTRICITY  150-200%   0.00         0.00   \n","3  AK  2013000100  OWNER  1940-59  1 ATTACHED  ELECTRICITY  200-400%   0.00         0.00   \n","4  AK  2013000100  OWNER  1940-59  1 ATTACHED  ELECTRICITY     400%+   0.00         0.00   \n","\n","   ELEP*UNITS  GASP*UNITS  FULP*UNITS  HINCP UNITS  ELEP UNITS  GASP UNITS  FULP UNITS  HCOUNT  \\\n","0        0.00        0.00        0.00         0.00        0.00        0.00        0.00     NaN   \n","1        0.00        0.00        0.00         0.00        0.00        0.00        0.00     NaN   \n","2        0.00        0.00        0.00         0.00        0.00        0.00        0.00     NaN   \n","3        0.00        0.00        0.00         0.00        0.00        0.00        0.00     NaN   \n","4        0.00        0.00        0.00         0.00        0.00        0.00        0.00     NaN   \n","\n","   ECOUNT  GCOUNT  FCOUNT  HINCP  ELEP  GASP  FULP  \n","0     NaN     NaN     NaN    NaN   NaN   NaN   NaN  \n","1     NaN     NaN     NaN    NaN   NaN   NaN   NaN  \n","2     NaN     NaN     NaN    NaN   NaN   NaN   NaN  \n","3     NaN     NaN     NaN    NaN   NaN   NaN   NaN  \n","4     NaN     NaN     NaN    NaN   NaN   NaN   NaN  "],"text/html":["\n","  <div id=\"df-12394142-c3ed-44d6-9374-03409c169105\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>ABV</th>\n","      <th>FIP</th>\n","      <th>TEN</th>\n","      <th>YBL6</th>\n","      <th>BLD</th>\n","      <th>HFL</th>\n","      <th>FPL15</th>\n","      <th>UNITS</th>\n","      <th>HINCP*UNITS</th>\n","      <th>ELEP*UNITS</th>\n","      <th>GASP*UNITS</th>\n","      <th>FULP*UNITS</th>\n","      <th>HINCP UNITS</th>\n","      <th>ELEP UNITS</th>\n","      <th>GASP UNITS</th>\n","      <th>FULP UNITS</th>\n","      <th>HCOUNT</th>\n","      <th>ECOUNT</th>\n","      <th>GCOUNT</th>\n","      <th>FCOUNT</th>\n","      <th>HINCP</th>\n","      <th>ELEP</th>\n","      <th>GASP</th>\n","      <th>FULP</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>AK</td>\n","      <td>2013000100</td>\n","      <td>OWNER</td>\n","      <td>1940-59</td>\n","      <td>1 ATTACHED</td>\n","      <td>ELECTRICITY</td>\n","      <td>0-100%</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>AK</td>\n","      <td>2013000100</td>\n","      <td>OWNER</td>\n","      <td>1940-59</td>\n","      <td>1 ATTACHED</td>\n","      <td>ELECTRICITY</td>\n","      <td>100-150%</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>AK</td>\n","      <td>2013000100</td>\n","      <td>OWNER</td>\n","      <td>1940-59</td>\n","      <td>1 ATTACHED</td>\n","      <td>ELECTRICITY</td>\n","      <td>150-200%</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>AK</td>\n","      <td>2013000100</td>\n","      <td>OWNER</td>\n","      <td>1940-59</td>\n","      <td>1 ATTACHED</td>\n","      <td>ELECTRICITY</td>\n","      <td>200-400%</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>AK</td>\n","      <td>2013000100</td>\n","      <td>OWNER</td>\n","      <td>1940-59</td>\n","      <td>1 ATTACHED</td>\n","      <td>ELECTRICITY</td>\n","      <td>400%+</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-12394142-c3ed-44d6-9374-03409c169105')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-12394142-c3ed-44d6-9374-03409c169105 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-12394142-c3ed-44d6-9374-03409c169105');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-7bd0c0d3-f0c8-48dc-af72-a5620c7d0cab\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-7bd0c0d3-f0c8-48dc-af72-a5620c7d0cab')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-7bd0c0d3-f0c8-48dc-af72-a5620c7d0cab button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"temp"}},"metadata":{},"execution_count":12}]},{"cell_type":"code","source":["import pandas as pd\n","import os\n","\n","# Processed file folder\n","zip_folder = '/content/gdrive/My Drive/Sociome_Folder/Dataset documentation/Web scraping results/'\n","\n","# List all processed files\n","processed_files = [f for f in os.listdir(zip_folder) if f.endswith('FPL Census Tracts 2018_v2.csv')]\n","\n","# Initialize a list\n","df_list = []\n","\n","# Process each file and append\n","for file in processed_files:\n","    file_path = os.path.join(zip_folder, file)\n","    df = pd.read_csv(file_path)\n","    df_list.append(df)\n","\n","# Concatenate all DataFrames\n","combined_df = pd.concat(df_list, ignore_index=True)\n","\n","# Save the combined df\n","combined_file_name = 'combined_FPL_Census_Tracts_2018_v2.csv'\n","combined_file_path = os.path.join(zip_folder, combined_file_name)\n","combined_df.to_csv(combined_file_path, index=False)\n","\n","print(f\"Combined file saved as: {combined_file_path}\")"],"metadata":{"id":"jKJuUSVPVkmC"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["### Reload"],"metadata":{"id":"a_-RbwkjehYU"}},{"cell_type":"code","source":["# Reload\n","\n","# scraped = '/content/gdrive/My Drive/Sociome_Folder/Dataset documentation/Web scraping results/'\n","\n","lead = pd.read_csv(dir + 'Energy/combined_FPL_Census_Tracts_2018_v2.csv')\n","lead.rename(columns={'FIP':'GEOID10'}, inplace=True)\n","\n","frames.append('lead')"],"metadata":{"id":"JBN4feEhPSc2","executionInfo":{"status":"ok","timestamp":1727817304211,"user_tz":300,"elapsed":1047,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"execution_count":7,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"3ACKfC21EAaM"},"source":["# HUD"]},{"cell_type":"markdown","source":["## CDBG"],"metadata":{"id":"PfuaOzwLxJUQ"}},{"cell_type":"code","source":["raw = pd.read_csv(dir + 'HUD/CDBG activity/Community_Development_Block_Grant_Activity_by_Tract.csv')\n","raw['GEOID10'] = raw['GEOID'].astype(str).str[:-2]\n","\n","\n","cols = ['HSG_COUNT', 'HSG_FUNDING_AMT']\n","\n","CDBG = raw.groupby(['GEOID10'])[cols].sum()\n","\n","# Add 'CDBG_' prefix to column names\n","new_column_names = ['CDBG_' + col for col in cols]\n","\n","# Rename the columns\n","CDBG.columns = new_column_names\n","\n","CDBG.reset_index(inplace=True)\n","\n","frames.append('CDBG')"],"metadata":{"id":"NMtXR_A4xKXV","executionInfo":{"status":"ok","timestamp":1727817305983,"user_tz":300,"elapsed":1773,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"execution_count":8,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"MKfDS3AwESc4"},"source":["## CHAS: Comprehensive housing affordability strategy -- reload\n","\n","https://www.huduser.gov/portal/datasets/cp.html#data_2006-2020 selected at tract level\n","\n","Select variables from CHAS-data-dictionary-16-20 highlighted in:\n","\n","https://docs.google.com/spreadsheets/d/1llgY4eU2cv4aVf1lD3q5WeKrAch-4gLx/edit?usp=sharing&ouid=106458459295534093500&rtpof=true&sd=true\n"]},{"cell_type":"code","source":["t1 = pd.read_csv(dir + 'HUD/CHAS/2016thru2020-140-csv/2016thru2020-140-csv/Table1.csv',\n","                 encoding = \"ISO-8859-1\")\n","\n","# Keep only the last 11 digits\n","t1['GEOID10'] = t1['geoid'].str[-11:]\n","\n","# OWNER\n","\n","# Owner occupied pct\n","t1['OwnerOccPct'] = round((t1['T1_est2'] / t1['T1_est1']) * 100, 0)\n","\n","# has 1 or more of the 4 housing unit problems (lacks kitchen or plumbing, more than 1 person per room, or cost burden greater than 30%)\n","t1['ProbOwner30pct'] = round((t1['T1_est3'] / t1['T1_est2']) * 100, 0)\n","\n","# RENTER\n","\n","# Renter occupied pct\n","t1['RenterOccPct'] = round((t1['T1_est75'] / t1['T1_est1']) * 100, 0)\n","\n","# has 1 or more of the 4 housing unit problems (lacks kitchen or plumbing, more than 1 person per room, or cost burden greater than 30%)\n","t1['ProbRenter30pct'] = round((t1['T1_est76'] / t1['T1_est75']) * 100, 0)\n","\n","# ALL\n","\n","# has 1 or more of the 4 housing unit problems (lacks kitchen or plumbing, more than 1 person per room, or cost burden greater than 30%)\n","t1['ProbALL30pct'] = round(((t1['T1_est3'] + t1['T1_est76']) / t1['T1_est1']) * 100, 0)\n","\n","t1 = t1[['GEOID10', 'OwnerOccPct', 'RenterOccPct', 'ProbOwner30pct', 'ProbRenter30pct', 'ProbALL30pct']]"],"metadata":{"id":"lOXC8nwlr62B"},"execution_count":null,"outputs":[]},{"cell_type":"code","execution_count":null,"metadata":{"id":"Kf19REfjvDoZ"},"outputs":[],"source":["t12 = pd.read_csv(dir + 'HUD/CHAS/2016thru2020-140-csv/2016thru2020-140-csv/Table12.csv',\n","                 encoding = \"ISO-8859-1\")\n","\n","t12.rename(columns={'geoid':'GEOID10'}, inplace=True)\n","t12['GEOID10'] = t12['GEOID10'].str[-11:]\n","\n","# YEAR STRUCTURE WAS BUILT\n","\n","# OWNER\n","\n","# Pre-1960\n","t12['OwnerPre1960pct'] = round(\n","    ( (t12['T12_est54'] + t12['T12_est71']) /t12['T12_est2']  )\n","     * 100, 0)\n","\n","\n","# RENTER\n","\n","# Pre-1960\n","t12['RentPre1960pct'] = round(\n","    ( (t12['T12_est140'] + t12['T12_est157']) /t12['T12_est88'] )\n","    * 100, 0)\n","\n","# ALL\n","\n","# Pre-1960\n","t12['AllPre1960pct'] = round(\n","    ( (t12['T12_est54'] + t12['T12_est71'] + t12['T12_est140'] + t12['T12_est157']) / t12['T12_est1']  )\n","    * 100, 0)\n","\n","t12 = t12[['GEOID10', 'OwnerPre1960pct', 'RentPre1960pct', 'AllPre1960pct']]"]},{"cell_type":"markdown","metadata":{"id":"fCHZqOzhxdQ0"},"source":["### Merge"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"lERPhdYHxPJD"},"outputs":[],"source":["chas = pd.merge(t1, t12, on='GEOID10', how='left')"]},{"cell_type":"markdown","metadata":{"id":"vtpEs-ZxxulA"},"source":["### Export and reload"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"EtcvsCoExwCh"},"outputs":[],"source":["# Tract\n","with open(dir + 'HUD/CHAS/CHAS_natl.csv', 'w') as f:\n","  chas.to_csv(f)"]},{"cell_type":"code","execution_count":9,"metadata":{"id":"lJ5P8VGxx7H4","executionInfo":{"status":"ok","timestamp":1727817307366,"user_tz":300,"elapsed":1385,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Reload\n","\n","chas = pd.read_csv(dir + 'HUD/CHAS/CHAS_natl.csv')\n","chas = chas.drop(columns=['Unnamed: 0'])\n","frames.append('chas')"]},{"cell_type":"markdown","metadata":{"id":"k7ZJngPIKbsA"},"source":["## Housing choice vouchers\n","\n","https://hudgis-hud.opendata.arcgis.com/maps/HUD::housing-choice-vouchers-by-tract-1\n","\n","HCV_PUBLIC: Public HCV count\n","\n","HCV_PUBLIC_PCT: HCV as a percent of renter occupied units"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"iKPydqJqKdT1"},"outputs":[],"source":["vouch = pd.read_csv(dir + 'HUD/Housing choice vouchers/Housing_Choice_Vouchers_by_Tract.csv')\n","\n","vouch = vouch.rename(columns={'GEOID': 'GEOID10'})\n","\n","vouch = vouch.fillna(0)\n","vouch = vouch[['GEOID10', 'HCV_PUBLIC_PCT']]"]},{"cell_type":"markdown","metadata":{"id":"gsgrMLENMxJZ"},"source":["### Export and reload"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"3RYFGopmMyg4"},"outputs":[],"source":["# Tract only\n","with open(dir + 'HUD/Housing choice vouchers/HCV_natl.csv', 'w') as f:\n","  vouch.to_csv(f)"]},{"cell_type":"code","execution_count":10,"metadata":{"id":"VQQ1MQxDKdWg","executionInfo":{"status":"ok","timestamp":1727817308331,"user_tz":300,"elapsed":967,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Reload\n","\n","vouch = pd.read_csv(dir + 'HUD/Housing choice vouchers/HCV_natl.csv')\n","vouch = vouch.drop(columns=['Unnamed: 0'])\n","frames.append('vouch')"]},{"cell_type":"markdown","metadata":{"id":"ldMZn_S8ECb3"},"source":["## HOME: HOME Investment Partnerships Program -- reload\n","\n","https://www.hud.gov/program_offices/comm_planning/home\n","\n","![image.png](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhIAAADTCAIAAABbdG3QAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAACEqADAAQAAAABAAAA0wAAAABLCBi9AABAAElEQVR4Ae2dfbBV1Xn/mwi1Kb6hESWRiS+lKkZ8qUVAIBod6ziMmaIiVURrNRkGSuJLC4pAM0IxQaVijNIajFgbqamaCmg6pJMQNFWQghJN0VpTTdNJgy81tWlr29+nPuf33Idn73M4995zzj333O/548zaaz/rWc/67n3W2nvtsz/rF35BHykgBaSAFJACdSvwASz/93//t277DjT8wAc+MMAV6MCDqiZJASnQHAXoMD/YHM/yKgWkgBSQAp2pgIaNzjyuapUUkAJSoEkKaNhokrByKwWkgBToTAUqw8bb739o4r//+7//y7/8C4n/+q//evXVV63R//qv/8p+0m+99Rbpd99996WXXvrRj35ke+P3f/7nf+7YsQMzMkk///zz5i35p5af/OQnZvPTn/707//+73HI54c//GH01sp0amN3q66hSZ2uouDFIq+99tquXbuK+T3L6W5dqfa0WRpDPBNKDZQpBaRAP1WgMmw8/PDDjzzyCG3YsmXL7bffTuLP/uzPTjrppH/7t38jza6vf/3rJP78z//8sccee+ihh37v/c8f/MEfkOmff/7nf/7EJz7xwAMPXHzxxa+//jrpNWvWTJs2bfXq1ck/fn71V3/1jTfeeOGFF5YtW3b//ffPmjVr3rx5f/EXf+HeWpxIbexu7dU0qd9PFLxY6vvf//4//dM/ef7f/M3fUKNvdjdRWpf7THXh3HJqGKQA4pnAgJr2Fjfdc3GXcqSAFGg3BQZVC4ge/Hd/93fpTKdPn47Ne++9xyUq32b/qU996uSTT/7DP/zDWPzLX/7ynDlzfuu3fovMG2+88fd///d/8zd/k4Fn0qRJs2fPjpakP/nJT950002XXXYZaYafFStWfOQjH7nggguSWSs3YxtfeeUV4v+P//iPT3/609w8ffOb3/zxj388duzYrVu3nn322eeddx4N/NnPfoYCxx9/vAXpmtx7773HHnvs0UcfffPNN3NPxuZ3v/vdf/zHf5w4caKX2rZtGwqfeOKJPvRGwR99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)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"VuTyguQmyfsH"},"outputs":[],"source":["home = pd.read_csv(dir + 'HUD/HOME activity/HOME_Activity_by_Tract.csv')\n","\n","# home.columns.to_list()\n","home.rename(columns={'GEOID':'GEOID10'}, inplace=True)\n","home = home[['GEOID10', 'UAHB_COUNT', 'FUND_DHB_AMT', 'UAHOR_COUNT', 'FUND_DHOR_AMT',\n","             'RENTAL_COUNT', 'RENTAL_AMT', 'OTHER_COUNT', 'OTHER_AMT', 'TOTAL_COUNT',\n","             'TOTAL_AMT', 'UATOTHOA_COUNT', 'UATOTHOA_AMT']]\n","\n","             # UATBRA_COUNT\tFUND_DTBRA_AMT are all zero"]},{"cell_type":"markdown","metadata":{"id":"Behi8vo32u9E"},"source":["### Export and reload"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"0Rm5Xh3MzMrE"},"outputs":[],"source":["# Tract only\n","with open(dir + 'HUD/HOME activity/HOME_natl.csv', 'w') as f:\n","  home.to_csv(f)"]},{"cell_type":"code","execution_count":11,"metadata":{"id":"6niFNdCf22Xc","executionInfo":{"status":"ok","timestamp":1727817309453,"user_tz":300,"elapsed":1124,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Reload\n","\n","home = pd.read_csv(dir + 'HUD/HOME activity/HOME_natl.csv')\n","home = home.drop(columns=['Unnamed: 0'])\n","frames.append('home')"]},{"cell_type":"markdown","metadata":{"id":"Sjk4mikhFhyk"},"source":["## Neighborhood stabilization -- reload\n","\n","https://www.huduser.gov/portal/datasets/NSP.html\n","\n","data dictionary https://www.huduser.gov/portal/maps/NSP/docs/Data-Dictionary-for-NSP3-Data.pdf\n","\n","AMI: Area median income\n","\n","LMMI: Low and moderate income\n","\n","LM: Loan management\n","\n","'NSP3NEED' The NSP3 foreclosure need score for the target geography\n","\n","'NSP3_MIN' The minimum need score for NSP3 targeting eligibility within target area geography's state.\n","\n","'HU2007' This is an estimated count of housing units in the block group as of 2007.\n","\n","'PCT_LMMI' Percent persons estimated less than 120% AMI in this target geography for purposes of determining Area Benefit eligibility for NSP.  From Census 2000.  To qualify for area benefit under NSP, the target area needs to be 51% or more LMMI.\n","\n","'PCT_LM' Percent persons estimated less than 80% AMI in this target geography for purposes of determining Area Benefit eligibility for CDBG.  From Census 2000. To qualify for area benefit under CDBG, the target area needs to be 51% or more LM.\n","\n","'USPS_ADD' USPS count of addresses for the identified area in March 2010.  Note that this address count is based on a Census Tract address count that is assigned to Block Group parts based on the HU2007 variable above.  Note that if the address count is significantly different from the HU2007 variable above, users are advised to use this information with caution.  For example if there are many NoStats in an area for units never built, the USPS residential address count may be larger than the Census number; if the area is a rural area largely served by PO boxes it may have fewer addresses than housing units.     \n","\n","'USPS_VAC' USPS data on addresses not receiving mail in the last 90 days as of March 2010.  This can be a useful measure of whether or not a target area has a serious vacancy problem.  For urban neighborhoods, HUD has found that neighborhoods with a very high number vacant addresses relative to the total addresses is a very good indicator of a current or potential serious blight problem.  This number has been adjusted to reduce the count of vacancies due to vacation rentals.\n","\n","'USPS_NS' USPS NoStat indicator.  This variable can mean different things.  In rural areas, it is an indicator of vacancy.  However, it can also be an address that has been issued but not ever used, it can indicate units under development, and it can be a very distressed property (most of the still flood damaged properties in New Orleans are NoStat).   When using this variable, users need to understand the target area identified.\n","\n","'HMDA' Home Mortgage Disclosure Act count of primary mortgages executed between 2004 and 2007 Note that this mortgage count is based on Census Tract level data that is assigned to Block Group parts based on the HU2007 variable above.\n","\n","'HC_RATE' Home Mortgage Disclosure Act data showing the percent of primary mortgages executed between 2004 and 2007 that were high cost.  **This is the Census Tract level rate.**\n","\n","'SDQ_RATE' The estimated rate of mortgages Serious Delinquent (90+ or more days delinquent or in foreclosure) in June 2010.  \n","\n","'STARTS' Estimated number of foreclosure starts in the target area in the past year.\n","\n","'REO' Estimated number of completed foreclosures in the target area in the past year.\n","\n","'IMPACT' Estimated number of properties needed to make an impact in identified target area.  There is not magic to this number, it is presuming that a minimum of 20% of REO in a target area would need to be addressed to make a visible impact.  The purpose of this variable is to encourage grantees to select target areas that are small enough so that their NSP investment has a chance of stabilizing a neighborhood.\n","\n","'PRICECHG' Metropolitan Area (or nonmetropolitan area balance) percent fall in home value since peak value (Federal Housing Finance Agency Home Price Index through June 2010).  Used in the serious delinquency rate predictive model.\n","\n","Deleted old unemployment rates: 'UNEM_05', 'UNEM_10'"]},{"cell_type":"markdown","source":["### Process"],"metadata":{"id":"GNkMyeIwxopF"}},{"cell_type":"code","source":["import os\n","import pandas as pd\n","\n","# Directory\n","dir_path = '/content/gdrive/My Drive/Sociome_Folder/Data/HUD/Neighborhood stabilization/'\n","\n","# List all files\n","xlsx_files = [f for f in os.listdir(dir_path) if f.endswith('.xls')]\n","\n","# Initialize an empty list\n","df_list = []\n","\n","# Loop through each file and append\n","for file in xlsx_files:\n","    file_path = os.path.join(dir_path, file)\n","    df = pd.read_excel(file_path)  # Read the file\n","    df_list.append(df)\n","\n","# Stack\n","combined_df = pd.concat(df_list, ignore_index=True)"],"metadata":{"id":"zmb5xD13xUkU"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["# Backup\n","combined_df.to_csv(dir_path + 'all_files_stacked.csv')"],"metadata":{"id":"U4U4uARoN5zn"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":["### GEOID problems"],"metadata":{"id":"Hq-hcRwRhD5-"}},{"cell_type":"code","source":["# Directory\n","dir_path = '/content/gdrive/My Drive/Sociome_Folder/Data/HUD/Neighborhood stabilization/'\n","\n","combined_df = pd.read_csv(dir_path + 'all_files_stacked.csv')\n","combined_df.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":417},"id":"kEXfEQ3n4MP_","executionInfo":{"status":"ok","timestamp":1726692289265,"user_tz":300,"elapsed":4483,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"2e8d1ee6-741e-4bac-bc0c-7f9d4eec732b"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["   Unnamed: 0   LOGRECNO                   SUM090 STA            NSPNAME     NSPID  \\\n","0           0  AK0000103  020130159801090000100R1  AK  AK NONENTITLEMENT  0299990N   \n","1           1  AK0000107  020130159816530000100R1  AK  AK NONENTITLEMENT  0299990N   \n","2           2  AK0000111  020130159824660000100R1  AK  AK NONENTITLEMENT  0299990N   \n","3           3  AK0000115  020130159839410000100R2  AK  AK NONENTITLEMENT  0299990N   \n","4           4  AK0000119  020130159852940000100R2  AK  AK NONENTITLEMENT  0299990N   \n","\n","            CDBGNAME              COUNTYNAME        PLACENAME  NSP3NEED  NSP3_MIN  HU2007  \\\n","0  AK NONENTITLEMENT  Aleutians East Borough      Akutan city     11.00         8   38.00   \n","1  AK NONENTITLEMENT  Aleutians East Borough    Cold Bay city     11.00         8   98.00   \n","2  AK NONENTITLEMENT  Aleutians East Borough  False Pass city     11.00         8   40.00   \n","3  AK NONENTITLEMENT  Aleutians East Borough   King Cove city     11.00         8  207.00   \n","4  AK NONENTITLEMENT  Aleutians East Borough              NaN     11.00         8   33.00   \n","\n","   PCT_LMMI  PCT_LM  USPS_ADD  USPS_VAC  USPS_NS  HMDA  HC_RATE  SDQ_RATE  STARTS  REO  IMPACT  \\\n","0     90.10   63.40      0.00      0.00     0.00  2.00    43.80      6.10    0.00 0.00    0.00   \n","1     63.60   24.70      0.00      0.00     0.00  4.00    43.80      6.10    0.00 0.00    0.00   \n","2     53.30   34.70      0.00      0.00     0.00  2.00    43.80      6.10    0.00 0.00    0.00   \n","3     70.20   46.50      0.00      0.00     0.00  9.00    43.80      6.10    0.00 0.00    0.00   \n","4     57.70   48.70      0.00      0.00     0.00  1.00    43.80      6.10    0.00 0.00    0.00   \n","\n","   PRICECHG  UNEM_05  UNEM_10     GEOID10  \n","0     -4.60    14.20    12.90  2013109000  \n","1     -4.60    14.20    12.90  2013653000  \n","2     -4.60    14.20    12.90  2013466000  \n","3     -4.60    14.20    12.90  2013941000  \n","4     -4.60    14.20    12.90  2013294000  "],"text/html":["\n","  <div id=\"df-89f6d0cd-7352-4a3e-8bed-a610a5e33048\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Unnamed: 0</th>\n","      <th>LOGRECNO</th>\n","      <th>SUM090</th>\n","      <th>STA</th>\n","      <th>NSPNAME</th>\n","      <th>NSPID</th>\n","      <th>CDBGNAME</th>\n","      <th>COUNTYNAME</th>\n","      <th>PLACENAME</th>\n","      <th>NSP3NEED</th>\n","      <th>NSP3_MIN</th>\n","      <th>HU2007</th>\n","      <th>PCT_LMMI</th>\n","      <th>PCT_LM</th>\n","      <th>USPS_ADD</th>\n","      <th>USPS_VAC</th>\n","      <th>USPS_NS</th>\n","      <th>HMDA</th>\n","      <th>HC_RATE</th>\n","      <th>SDQ_RATE</th>\n","      <th>STARTS</th>\n","      <th>REO</th>\n","      <th>IMPACT</th>\n","      <th>PRICECHG</th>\n","      <th>UNEM_05</th>\n","      <th>UNEM_10</th>\n","      <th>GEOID10</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>0</td>\n","      <td>AK0000103</td>\n","      <td>020130159801090000100R1</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>Akutan city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>38.00</td>\n","      <td>90.10</td>\n","      <td>63.40</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>2.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013109000</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>1</td>\n","      <td>AK0000107</td>\n","      <td>020130159816530000100R1</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>Cold Bay city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>98.00</td>\n","      <td>63.60</td>\n","      <td>24.70</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>4.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013653000</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2</td>\n","      <td>AK0000111</td>\n","      <td>020130159824660000100R1</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>False Pass city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>40.00</td>\n","      <td>53.30</td>\n","      <td>34.70</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>2.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013466000</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>3</td>\n","      <td>AK0000115</td>\n","      <td>020130159839410000100R2</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>King Cove city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>207.00</td>\n","      <td>70.20</td>\n","      <td>46.50</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>9.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013941000</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>4</td>\n","      <td>AK0000119</td>\n","      <td>020130159852940000100R2</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>NaN</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>33.00</td>\n","      <td>57.70</td>\n","      <td>48.70</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>1.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013294000</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-89f6d0cd-7352-4a3e-8bed-a610a5e33048')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-89f6d0cd-7352-4a3e-8bed-a610a5e33048 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-89f6d0cd-7352-4a3e-8bed-a610a5e33048');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-25bc9678-f47c-43dd-9dac-f87a80376696\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-25bc9678-f47c-43dd-9dac-f87a80376696')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-25bc9678-f47c-43dd-9dac-f87a80376696 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"combined_df"}},"metadata":{},"execution_count":19}]},{"cell_type":"code","source":["# !pip install us censusdata"],"metadata":{"id":"atyneCNS4z4i"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["import us\n","import censusdata\n","\n","# Function to get state FIPS code safely, with a check for 'DC'\n","def get_state_fips(state_abbr):\n","    if state_abbr == 'DC':\n","        return '11'\n","    state = us.states.lookup(state_abbr)\n","    if state:\n","        return state.fips\n","    else:\n","        return None\n","\n","combined_df['state_fips'] = combined_df['STA'].apply(get_state_fips)\n","combined_df.head()"],"metadata":{"id":"xe2p15Xs6fMM","colab":{"base_uri":"https://localhost:8080/","height":417},"executionInfo":{"status":"ok","timestamp":1726692471952,"user_tz":300,"elapsed":9140,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"c61296ae-eca6-4e49-a8bb-63d665af4e8d"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["   Unnamed: 0   LOGRECNO                   SUM090 STA            NSPNAME     NSPID  \\\n","0           0  AK0000103  020130159801090000100R1  AK  AK NONENTITLEMENT  0299990N   \n","1           1  AK0000107  020130159816530000100R1  AK  AK NONENTITLEMENT  0299990N   \n","2           2  AK0000111  020130159824660000100R1  AK  AK NONENTITLEMENT  0299990N   \n","3           3  AK0000115  020130159839410000100R2  AK  AK NONENTITLEMENT  0299990N   \n","4           4  AK0000119  020130159852940000100R2  AK  AK NONENTITLEMENT  0299990N   \n","\n","            CDBGNAME              COUNTYNAME        PLACENAME  NSP3NEED  NSP3_MIN  HU2007  \\\n","0  AK NONENTITLEMENT  Aleutians East Borough      Akutan city     11.00         8   38.00   \n","1  AK NONENTITLEMENT  Aleutians East Borough    Cold Bay city     11.00         8   98.00   \n","2  AK NONENTITLEMENT  Aleutians East Borough  False Pass city     11.00         8   40.00   \n","3  AK NONENTITLEMENT  Aleutians East Borough   King Cove city     11.00         8  207.00   \n","4  AK NONENTITLEMENT  Aleutians East Borough              NaN     11.00         8   33.00   \n","\n","   PCT_LMMI  PCT_LM  USPS_ADD  USPS_VAC  USPS_NS  HMDA  HC_RATE  SDQ_RATE  STARTS  REO  IMPACT  \\\n","0     90.10   63.40      0.00      0.00     0.00  2.00    43.80      6.10    0.00 0.00    0.00   \n","1     63.60   24.70      0.00      0.00     0.00  4.00    43.80      6.10    0.00 0.00    0.00   \n","2     53.30   34.70      0.00      0.00     0.00  2.00    43.80      6.10    0.00 0.00    0.00   \n","3     70.20   46.50      0.00      0.00     0.00  9.00    43.80      6.10    0.00 0.00    0.00   \n","4     57.70   48.70      0.00      0.00     0.00  1.00    43.80      6.10    0.00 0.00    0.00   \n","\n","   PRICECHG  UNEM_05  UNEM_10     GEOID10 state_fips  \n","0     -4.60    14.20    12.90  2013109000         02  \n","1     -4.60    14.20    12.90  2013653000         02  \n","2     -4.60    14.20    12.90  2013466000         02  \n","3     -4.60    14.20    12.90  2013941000         02  \n","4     -4.60    14.20    12.90  2013294000         02  "],"text/html":["\n","  <div id=\"df-ef98804e-d501-4c6d-8fb0-a5af5a6ad83a\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>Unnamed: 0</th>\n","      <th>LOGRECNO</th>\n","      <th>SUM090</th>\n","      <th>STA</th>\n","      <th>NSPNAME</th>\n","      <th>NSPID</th>\n","      <th>CDBGNAME</th>\n","      <th>COUNTYNAME</th>\n","      <th>PLACENAME</th>\n","      <th>NSP3NEED</th>\n","      <th>NSP3_MIN</th>\n","      <th>HU2007</th>\n","      <th>PCT_LMMI</th>\n","      <th>PCT_LM</th>\n","      <th>USPS_ADD</th>\n","      <th>USPS_VAC</th>\n","      <th>USPS_NS</th>\n","      <th>HMDA</th>\n","      <th>HC_RATE</th>\n","      <th>SDQ_RATE</th>\n","      <th>STARTS</th>\n","      <th>REO</th>\n","      <th>IMPACT</th>\n","      <th>PRICECHG</th>\n","      <th>UNEM_05</th>\n","      <th>UNEM_10</th>\n","      <th>GEOID10</th>\n","      <th>state_fips</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>0</td>\n","      <td>AK0000103</td>\n","      <td>020130159801090000100R1</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>Akutan city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>38.00</td>\n","      <td>90.10</td>\n","      <td>63.40</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>2.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013109000</td>\n","      <td>02</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>1</td>\n","      <td>AK0000107</td>\n","      <td>020130159816530000100R1</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>Cold Bay city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>98.00</td>\n","      <td>63.60</td>\n","      <td>24.70</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>4.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013653000</td>\n","      <td>02</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>2</td>\n","      <td>AK0000111</td>\n","      <td>020130159824660000100R1</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>False Pass city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>40.00</td>\n","      <td>53.30</td>\n","      <td>34.70</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>2.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013466000</td>\n","      <td>02</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>3</td>\n","      <td>AK0000115</td>\n","      <td>020130159839410000100R2</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>King Cove city</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>207.00</td>\n","      <td>70.20</td>\n","      <td>46.50</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>9.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013941000</td>\n","      <td>02</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>4</td>\n","      <td>AK0000119</td>\n","      <td>020130159852940000100R2</td>\n","      <td>AK</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>0299990N</td>\n","      <td>AK NONENTITLEMENT</td>\n","      <td>Aleutians East Borough</td>\n","      <td>NaN</td>\n","      <td>11.00</td>\n","      <td>8</td>\n","      <td>33.00</td>\n","      <td>57.70</td>\n","      <td>48.70</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>1.00</td>\n","      <td>43.80</td>\n","      <td>6.10</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>-4.60</td>\n","      <td>14.20</td>\n","      <td>12.90</td>\n","      <td>2013294000</td>\n","      <td>02</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ef98804e-d501-4c6d-8fb0-a5af5a6ad83a')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-ef98804e-d501-4c6d-8fb0-a5af5a6ad83a button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-ef98804e-d501-4c6d-8fb0-a5af5a6ad83a');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-b36125c4-24db-40d3-b166-2eb8a644bb05\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b36125c4-24db-40d3-b166-2eb8a644bb05')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b36125c4-24db-40d3-b166-2eb8a644bb05 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"combined_df"}},"metadata":{},"execution_count":23}]},{"cell_type":"code","source":["# Function to get county FIPS code\n","def get_county_fips(state_abbr, county_name):\n","    state_fips = get_state_fips(state_abbr)\n","    if not state_fips:\n","        return 'Unknown'\n","\n","    # Use us library to get the county FIPS\n","    counties = us.states.lookup(state_abbr).counties\n","    county = next((c for c in counties if county_name.lower() in c.name.lower()), None)\n","    return county.fips if county else 'Unknown'\n","\n","combined_df['county_fips'] = combined_df.apply(lambda row:\n","                                               get_county_fips(row['STA'],\n","                                                               row['COUNTYNAME']),\n","                                               axis=1)"],"metadata":{"id":"3snVDRgWfdzF","colab":{"base_uri":"https://localhost:8080/","height":356},"executionInfo":{"status":"error","timestamp":1726692473836,"user_tz":300,"elapsed":1885,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"e7ed1325-c77b-495c-f272-cae09f95fab8"},"execution_count":null,"outputs":[{"output_type":"error","ename":"AttributeError","evalue":"'State' object has no attribute 'counties'","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mAttributeError\u001b[0m                            Traceback (most recent call last)","\u001b[0;32m<ipython-input-24-6ebd51efb2af>\u001b[0m in \u001b[0;36m<cell line: 12>\u001b[0;34m()\u001b[0m\n\u001b[1;32m     10\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0mcounty\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfips\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0mcounty\u001b[0m \u001b[0;32melse\u001b[0m \u001b[0;34m'Unknown'\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     11\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 12\u001b[0;31m combined_df['county_fips'] = combined_df.apply(lambda row:\n\u001b[0m\u001b[1;32m     13\u001b[0m                                                get_county_fips(row['STA'],\n\u001b[1;32m     14\u001b[0m                                                                row['COUNTYNAME']),\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/pandas/core/frame.py\u001b[0m in \u001b[0;36mapply\u001b[0;34m(self, func, axis, raw, result_type, args, by_row, **kwargs)\u001b[0m\n\u001b[1;32m  10032\u001b[0m             \u001b[0mkwargs\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m  10033\u001b[0m         )\n\u001b[0;32m> 10034\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mop\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mapply\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m__finalize__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mmethod\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m\"apply\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m  10035\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m  10036\u001b[0m     def map(\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/pandas/core/apply.py\u001b[0m in \u001b[0;36mapply\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m    835\u001b[0m             \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mapply_raw\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    836\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 837\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mapply_standard\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    838\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    839\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0magg\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/pandas/core/apply.py\u001b[0m in \u001b[0;36mapply_standard\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m    963\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    964\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0mapply_standard\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 965\u001b[0;31m         \u001b[0mresults\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mres_index\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mapply_series_generator\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    966\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    967\u001b[0m         \u001b[0;31m# wrap results\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/pandas/core/apply.py\u001b[0m in \u001b[0;36mapply_series_generator\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m    979\u001b[0m             \u001b[0;32mfor\u001b[0m \u001b[0mi\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mv\u001b[0m \u001b[0;32min\u001b[0m \u001b[0menumerate\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mseries_gen\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    980\u001b[0m                 \u001b[0;31m# ignore SettingWithCopy here in case the user mutates\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 981\u001b[0;31m                 \u001b[0mresults\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mi\u001b[0m\u001b[0;34m]\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfunc\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mv\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m*\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0margs\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mkwargs\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    982\u001b[0m                 \u001b[0;32mif\u001b[0m \u001b[0misinstance\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mresults\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0mi\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mABCSeries\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    983\u001b[0m                     \u001b[0;31m# If we have a view on v, we need to make a copy because\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m<ipython-input-24-6ebd51efb2af>\u001b[0m in \u001b[0;36m<lambda>\u001b[0;34m(row)\u001b[0m\n\u001b[1;32m     11\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     12\u001b[0m combined_df['county_fips'] = combined_df.apply(lambda row:\n\u001b[0;32m---> 13\u001b[0;31m                                                get_county_fips(row['STA'],\n\u001b[0m\u001b[1;32m     14\u001b[0m                                                                row['COUNTYNAME']),\n\u001b[1;32m     15\u001b[0m                                                axis=1)\n","\u001b[0;32m<ipython-input-24-6ebd51efb2af>\u001b[0m in \u001b[0;36mget_county_fips\u001b[0;34m(state_abbr, county_name)\u001b[0m\n\u001b[1;32m      6\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      7\u001b[0m     \u001b[0;31m# Use us library to get the county FIPS\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 8\u001b[0;31m     \u001b[0mcounties\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mus\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstates\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlookup\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mstate_abbr\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcounties\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      9\u001b[0m     \u001b[0mcounty\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnext\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mc\u001b[0m \u001b[0;32mfor\u001b[0m \u001b[0mc\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mcounties\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0mcounty_name\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32min\u001b[0m \u001b[0mc\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mname\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     10\u001b[0m     \u001b[0;32mreturn\u001b[0m \u001b[0mcounty\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfips\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0mcounty\u001b[0m \u001b[0;32melse\u001b[0m \u001b[0;34m'Unknown'\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mAttributeError\u001b[0m: 'State' object has no attribute 'counties'"]}]},{"cell_type":"code","source":["# Extract the relevant parts from the 'SUM090' string\n","combined_df['GEOID10'] = combined_df['SUM090'].str[0:5] + combined_df['SUM090'].str[11:17]"],"metadata":{"id":"ECyp5CI-Nt-6"},"execution_count":null,"outputs":[]},{"cell_type":"code","source":["# Matching to definitive tracts listing -- NOT WORKING\n","\n","trial = pd.merge(combined_df, tracts, on='GEOID10', how='outer', indicator=True)\n","\n","trial['_merge'].value_counts(dropna=False)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":210},"id":"Wd6lM7SCYFwz","executionInfo":{"status":"ok","timestamp":1724958111377,"user_tz":300,"elapsed":928,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"08c2e3b3-b45d-4e90-ab62-ddc318a8e1c3"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["_merge\n","right_only    73989\n","left_only     31584\n","both             13\n","Name: count, dtype: int64"],"text/html":["<div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>count</th>\n","    </tr>\n","    <tr>\n","      <th>_merge</th>\n","      <th></th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>right_only</th>\n","      <td>73989</td>\n","    </tr>\n","    <tr>\n","      <th>left_only</th>\n","      <td>31584</td>\n","    </tr>\n","    <tr>\n","      <th>both</th>\n","      <td>13</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div><br><label><b>dtype:</b> int64</label>"]},"metadata":{},"execution_count":160}]},{"cell_type":"markdown","metadata":{"id":"VasgJBM34Mw6"},"source":["### Summarize by tract"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"3ulvLBoB4MRX"},"outputs":[],"source":["neigh = combined_df.groupby(['GEOID10']).agg(\n","    Count=('GEOID10', 'size'),\n","    avg_NSP3NEED=('NSP3NEED', 'mean'),\n","    avg_NSP3_MIN=('NSP3_MIN', 'mean'),\n","    sum_HU2007=('HU2007', 'sum'),\n","    avg_PCT_LMMI=('PCT_LMMI', 'mean'),\n","    avg_PCT_LM=('PCT_LM', 'mean'),\n","    sum_USPS_ADD=('USPS_ADD', 'sum'),\n","    sum_USPS_VAC=('USPS_VAC', 'sum'),\n","    sum_USPS_NS=('USPS_NS', 'sum'),\n","    sum_HMDA=('HMDA', 'sum'),\n","    avg_HC_RATE=('HC_RATE', 'max'),\n","    avg_SDQ_RATE=('SDQ_RATE', 'mean'),\n","    sum_STARTS=('STARTS', 'sum'),\n","    sum_REO=('REO', 'sum'),\n","    sum_IMPACT=('IMPACT', 'sum')\n",").reset_index()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"9GhVE_i85KHW"},"outputs":[],"source":["neigh['USPS_VAC_pct'] = round(neigh['sum_USPS_VAC'] / neigh['sum_USPS_ADD'], 2)\n","neigh['USPS_NS_pct'] = round(neigh['sum_USPS_NS'] / neigh['sum_USPS_ADD'], 2)\n","neigh['HMDA_pct'] = round(neigh['sum_HMDA'] / neigh['sum_HU2007'], 2)\n","neigh['fore_STARTS_pct'] = round(neigh['sum_STARTS'] / neigh['sum_HU2007'], 2)\n","neigh['fore_REO_pct'] = round(neigh['sum_REO'] / neigh['sum_HU2007'], 2)\n","neigh['sum_IMPACT_pct'] = round(neigh['sum_IMPACT'] / neigh['sum_HU2007'], 2)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"GePeEvSl7_c8"},"outputs":[],"source":["# Minimize to relative variables\n","\n","neigh2 = neigh[['GEOID10', 'avg_NSP3NEED',  'avg_PCT_LMMI',\n","                 'avg_PCT_LM', 'avg_HC_RATE',\n","                 'avg_SDQ_RATE',\n","                 'USPS_VAC_pct', 'USPS_NS_pct', 'HMDA_pct',\n","                 'fore_STARTS_pct', 'fore_REO_pct', 'sum_IMPACT_pct']]"]},{"cell_type":"markdown","metadata":{"id":"7F44UfMl9BSH"},"source":["### Export and reload"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"uDYzb7BN9CaY"},"outputs":[],"source":["with open(dir + 'HUD/Neighborhood stabilization/nsp3_tract_natl.csv', 'w') as f:\n","  neigh2.to_csv(f)"]},{"cell_type":"code","execution_count":12,"metadata":{"id":"2EKe0XxC9Cg4","executionInfo":{"status":"ok","timestamp":1727817310835,"user_tz":300,"elapsed":1383,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Reload\n","\n","neigh = pd.read_csv(dir + 'HUD/Neighborhood stabilization/nsp3_tract_natl.csv')\n","neigh.drop(columns=['Unnamed: 0'], inplace=True)\n","\n","frames.append('neigh')"]},{"cell_type":"markdown","metadata":{"id":"MM6d_URtFh10"},"source":["## Public housing -- reload\n","\n","https://hudgis-hud.opendata.arcgis.com/datasets/public-housing-buildings/explore\n","\n","** NO DATA DICTIONARY FOUND**"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"GCUkbpTs8hko"},"outputs":[],"source":["public = pd.read_csv(dir + 'HUD/Public housing/Public_Housing_Buildings.csv', dtype='string')\n","\n","# # Limit to Cook County\n","# neigh = neigh[(neigh['STA']=='IL')& (neigh['COUNTYNAME']=='Cook County')]\n","\n","public['GEOID10'] = public['TRACT_LEVEL'].astype('str').str[0:11]\n","\n","var_num = ['TOTAL_DWELLING_UNITS', 'TOTAL_OCCUPIED']\n","public[var_num] = public[var_num].apply(pd.to_numeric, errors='coerce')\n","\n","# print(public.columns.to_list())\n","public = public.replace('-4', None)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"jzR7eidxDyX7"},"outputs":[],"source":["# Missingness table\n","\n","df = public\n","\n","count = df.isnull().sum()\n","percentage = 100 * df.isnull().sum() / len(df)\n","types = df.dtypes\n","missing_table = pd.concat([count, percentage, types], axis=1)\n","missing_table.columns = ['Count', 'Percentage', 'Type']\n","missing_table = missing_table.sort_values(by=['Percentage'], ascending=False)\n","outty = missing_table.head(75)\n","deletey = outty.index.values.tolist()\n","\n","# Remove highly missing from above\n","\n","public = public.drop(columns=deletey)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"RCOGfTllAmTo"},"outputs":[],"source":["# Minimize -- no data dictionary :/\n","\n","pub2 = public\n","\n","pub2['DOFA_ACTUAL_DT'] = pd.to_datetime(pub2['DOFA_ACTUAL_DT'])\n","pub2['YearBuilt'] = pub2['DOFA_ACTUAL_DT'].dt.year\n","\n","\n","line = pub2[['GEOID10', 'LAT', 'LON', 'DOFA_ACTUAL_DT', 'YearBuilt', 'PROJECT_NAME', 'STD_ADDR',\n","             'STD_CITY', 'STD_ST', 'STD_ZIP5',\n","             'TOTAL_DWELLING_UNITS', 'TOTAL_OCCUPIED']]"]},{"cell_type":"markdown","metadata":{"id":"Mf6Mt1jFIyMN"},"source":["### Summarize by tract"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"MBbgGu3EIzi5"},"outputs":[],"source":["pub3 = line.groupby(['GEOID10']).agg(\n","    PubHousCount=('GEOID10', 'size'),\n","    TOTAL_DWELLING_UNITS=('TOTAL_DWELLING_UNITS', 'sum'),\n","    TOTAL_OCCUPIED=('TOTAL_OCCUPIED', 'sum')\n",").reset_index()"]},{"cell_type":"code","source":["pub3['PubHousOcc_pct'] = round((pub3['TOTAL_OCCUPIED'] / pub3['TOTAL_DWELLING_UNITS']), 2)"],"metadata":{"id":"GYxzSYMzJfvr"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"7mW3CUbtJFFi"},"source":["### Export and reload"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"LmDNcXGZJGSd"},"outputs":[],"source":["# Line listing\n","with open(dir + 'HUD/Public housing/pub_line_natl.csv', 'w') as f:\n","  line.to_csv(f)\n","\n","# Tract only\n","with open(dir + 'HUD/Public housing/pub_tract_natl.csv', 'w') as f:\n","  pub3.to_csv(f)"]},{"cell_type":"code","execution_count":13,"metadata":{"id":"bn6SZuY8J9PD","executionInfo":{"status":"ok","timestamp":1727817323079,"user_tz":300,"elapsed":880,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Reload\n","\n","public = pd.read_csv(dir + 'HUD/Public housing/pub_tract_natl.csv')\n","public.drop(columns=['Unnamed: 0'], inplace=True)\n","frames.append('public')"]},{"cell_type":"markdown","metadata":{"id":"RJVs_qsVgwFS"},"source":["# Merge"]},{"cell_type":"code","execution_count":14,"metadata":{"id":"-s2Peq9jcTS6","executionInfo":{"status":"ok","timestamp":1727817327740,"user_tz":300,"elapsed":2060,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Convert 'GEOID10' in all DataFrames to uppercase and numeric\n","for df_name in frames:\n","  # Convert 'GEOID10' to uppercase and numeric\n","  globals()[df_name]['GEOID10'] = globals()[df_name]['GEOID10'].astype(str).str.upper()\n","  # tractsdf['GEOID10'] = tractsdf['GEOID10'].astype(str).str.upper()\n","  globals()[df_name]['GEOID10'] = pd.to_numeric(globals()[df_name]['GEOID10'], errors='coerce')"]},{"cell_type":"code","execution_count":15,"metadata":{"id":"LJlxrWUycTVz","executionInfo":{"status":"ok","timestamp":1727817328473,"user_tz":300,"elapsed":734,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["# Merge all DataFrames on 'GEOID10'\n","\n","merged_df = tracts\n","\n","for df_name in frames:\n","    if df_name != 'tracts':\n","        merged_df = pd.merge(merged_df, globals()[df_name], on='GEOID10', how='outer')"]},{"cell_type":"markdown","source":["# Data check"],"metadata":{"id":"7S_2OsKHlZ7Q"}},{"cell_type":"markdown","source":["## Identify constants"],"metadata":{"id":"v-zeLPj7leiz"}},{"cell_type":"code","source":["constant_columns = [col for col in merged_df.columns if merged_df[col].nunique() == 1]\n","\n","constant_columns"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Vi5LTv79lgK8","executionInfo":{"status":"ok","timestamp":1724874003594,"user_tz":300,"elapsed":3176,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"60f0cd1e-3bbc-4353-b319-9057d58e68f3"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["['Aband_mine_ge1']"]},"metadata":{},"execution_count":102}]},{"cell_type":"markdown","source":["## Identify duplicated information across variables"],"metadata":{"id":"MFqhwB1Algqx"}},{"cell_type":"code","source":["from itertools import combinations\n","\n","# Get all pairs of columns\n","column_pairs = combinations(merged_df.columns, 2)\n","\n","# Find pairs of columns that are identical\n","identical_pairs = [(col1, col2) for col1, col2 in column_pairs if merged_df[col1].equals(merged_df[col2])]\n","\n","# Display the identical pairs\n","identical_pairs"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"LTH9tFUmljvV","executionInfo":{"status":"ok","timestamp":1724874012808,"user_tz":300,"elapsed":9100,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"4d5e1aff-75ae-4d7f-e8b5-0cd309e1fb6b"},"execution_count":null,"outputs":[{"output_type":"execute_result","data":{"text/plain":["[]"]},"metadata":{},"execution_count":103}]},{"cell_type":"markdown","source":["## Duplicated tract rows?"],"metadata":{"id":"IsXucqx2PDTd"}},{"cell_type":"code","source":["len(merged_df['GEOID10'])-len(merged_df['GEOID10'].drop_duplicates())"],"metadata":{"id":"_snV4IEcPGkh"},"execution_count":null,"outputs":[]},{"cell_type":"markdown","metadata":{"id":"YkrBGJyCjGrL"},"source":["# Export and realod final housing dataset"]},{"cell_type":"code","execution_count":16,"metadata":{"id":"Y9oX2ox_jI2J","executionInfo":{"status":"ok","timestamp":1727817343273,"user_tz":300,"elapsed":9207,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}}},"outputs":[],"source":["with open(curated +  '00060_Housing_national.csv', 'w') as f:\n","  merged_df.to_csv(f)"]},{"cell_type":"code","execution_count":17,"metadata":{"id":"ysrxHMYsjiZa","colab":{"base_uri":"https://localhost:8080/","height":278},"executionInfo":{"status":"ok","timestamp":1727817345060,"user_tz":300,"elapsed":1788,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"7d79a415-decd-4d7b-a12a-5891d2406b5b"},"outputs":[{"output_type":"stream","name":"stderr","text":["<ipython-input-17-6acaf89bf109>:3: DtypeWarning: Columns (4,7,10,13) have mixed types. Specify dtype option on import or set low_memory=False.\n","  housing = pd.read_csv(curated +  '00060_Housing_national.csv')\n"]},{"output_type":"execute_result","data":{"text/plain":["      GEOID10  Bldg_loss_rate  Bldg_loss_rate_pctile Bldg_loss_rate_ge90pct_lowinc  \\\n","0 10010201.00             NaN                    NaN                           NaN   \n","1 10010202.00             NaN                    NaN                           NaN   \n","2 10010203.00             NaN                    NaN                           NaN   \n","3 10010204.00             NaN                    NaN                           NaN   \n","4 10010205.00             NaN                    NaN                           NaN   \n","\n","   Housing_burden_pct  Housing_burden_pctile Housing_burden_ge90pct_lowinc  Lead_pre1960  \\\n","0                 NaN                    NaN                           NaN           NaN   \n","1                 NaN                    NaN                           NaN           NaN   \n","2                 NaN                    NaN                           NaN           NaN   \n","3                 NaN                    NaN                           NaN           NaN   \n","4                 NaN                    NaN                           NaN           NaN   \n","\n","   Lead_pre1960_pctile Lead_ge90pct_value_lt90pct_lowinc  Energy_bdn  Energy_bdn_pctile  \\\n","0                  NaN                               NaN         NaN                NaN   \n","1                  NaN                               NaN         NaN                NaN   \n","2                  NaN                               NaN         NaN                NaN   \n","3                  NaN                               NaN         NaN                NaN   \n","4                  NaN                               NaN         NaN                NaN   \n","\n","  Energy_bdn_pctile_lowinc  HFL_BOTTLED GAS  HFL_COAL  HFL_ELECTRICITY  HFL_FUEL OIL  HFL_NONE  \\\n","0                      NaN              NaN       NaN              NaN           NaN       NaN   \n","1                      NaN              NaN       NaN              NaN           NaN       NaN   \n","2                      NaN              NaN       NaN              NaN           NaN       NaN   \n","3                      NaN              NaN       NaN              NaN           NaN       NaN   \n","4                      NaN              NaN       NaN              NaN           NaN       NaN   \n","\n","   HFL_OTHER  HFL_SOLAR  HFL_UTILITY GAS  HFL_WOOD  YBL6_1940-59  YBL6_1960-79  YBL6_1980-99  \\\n","0        NaN        NaN              NaN       NaN           NaN           NaN           NaN   \n","1        NaN        NaN              NaN       NaN           NaN           NaN           NaN   \n","2        NaN        NaN              NaN       NaN           NaN           NaN           NaN   \n","3        NaN        NaN              NaN       NaN           NaN           NaN           NaN   \n","4        NaN        NaN              NaN       NaN           NaN           NaN           NaN   \n","\n","   YBL6_2000-09  YBL6_2010  YBL6_BEFORE 1940  FPL15_0-100  FPL15_100-150  FPL15_150-200  \\\n","0           NaN        NaN               NaN          NaN            NaN            NaN   \n","1           NaN        NaN               NaN          NaN            NaN            NaN   \n","2           NaN        NaN               NaN          NaN            NaN            NaN   \n","3           NaN        NaN               NaN          NaN            NaN            NaN   \n","4           NaN        NaN               NaN          NaN            NaN            NaN   \n","\n","   FPL15_200-400  FPL15_400  UNITS  HINCP_UNITS  ELEP_UNITS  GASP_UNITS  FULP_UNITS  ELEP  GASP  \\\n","0            NaN        NaN    NaN          NaN         NaN         NaN         NaN   NaN   NaN   \n","1            NaN        NaN    NaN          NaN         NaN         NaN         NaN   NaN   NaN   \n","2            NaN        NaN    NaN          NaN         NaN         NaN         NaN   NaN   NaN   \n","3            NaN        NaN    NaN          NaN         NaN         NaN         NaN   NaN   NaN   \n","4            NaN        NaN    NaN          NaN         NaN         NaN         NaN   NaN   NaN   \n","\n","   FULP  CDBG_HSG_COUNT  CDBG_HSG_FUNDING_AMT  OwnerOccPct  RenterOccPct  ProbOwner30pct  \\\n","0   NaN            0.00                  0.00          NaN           NaN             NaN   \n","1   NaN            1.00              65517.50          NaN           NaN             NaN   \n","2   NaN            0.00                  0.00          NaN           NaN             NaN   \n","3   NaN            0.00                  0.00          NaN           NaN             NaN   \n","4   NaN            0.00                  0.00          NaN           NaN             NaN   \n","\n","   ProbRenter30pct  ProbALL30pct  OwnerPre1960pct  RentPre1960pct  AllPre1960pct  HCV_PUBLIC_PCT  \\\n","0              NaN           NaN              NaN             NaN            NaN             NaN   \n","1              NaN           NaN              NaN             NaN            NaN             NaN   \n","2              NaN           NaN              NaN             NaN            NaN             NaN   \n","3              NaN           NaN              NaN             NaN            NaN             NaN   \n","4              NaN           NaN              NaN             NaN            NaN             NaN   \n","\n","   UAHB_COUNT  FUND_DHB_AMT  UAHOR_COUNT  FUND_DHOR_AMT  RENTAL_COUNT  RENTAL_AMT  OTHER_COUNT  \\\n","0         NaN           NaN          NaN            NaN           NaN         NaN          NaN   \n","1         NaN           NaN          NaN            NaN           NaN         NaN          NaN   \n","2         NaN           NaN          NaN            NaN           NaN         NaN          NaN   \n","3         NaN           NaN          NaN            NaN           NaN         NaN          NaN   \n","4         NaN           NaN          NaN            NaN           NaN         NaN          NaN   \n","\n","   OTHER_AMT  TOTAL_COUNT  TOTAL_AMT  UATOTHOA_COUNT  UATOTHOA_AMT  avg_NSP3NEED  avg_PCT_LMMI  \\\n","0        NaN          NaN        NaN             NaN           NaN           NaN           NaN   \n","1        NaN          NaN        NaN             NaN           NaN           NaN           NaN   \n","2        NaN          NaN        NaN             NaN           NaN           NaN           NaN   \n","3        NaN          NaN        NaN             NaN           NaN           NaN           NaN   \n","4        NaN          NaN        NaN             NaN           NaN           NaN           NaN   \n","\n","   avg_PCT_LM  avg_HC_RATE  avg_SDQ_RATE  USPS_VAC_pct  USPS_NS_pct  HMDA_pct  fore_STARTS_pct  \\\n","0         NaN          NaN           NaN           NaN          NaN       NaN              NaN   \n","1         NaN          NaN           NaN           NaN          NaN       NaN              NaN   \n","2         NaN          NaN           NaN           NaN          NaN       NaN              NaN   \n","3         NaN          NaN           NaN           NaN          NaN       NaN              NaN   \n","4         NaN          NaN           NaN           NaN          NaN       NaN              NaN   \n","\n","   fore_REO_pct  sum_IMPACT_pct  PubHousCount  TOTAL_DWELLING_UNITS  TOTAL_OCCUPIED  \\\n","0           NaN             NaN           NaN                   NaN             NaN   \n","1           NaN             NaN           NaN                   NaN             NaN   \n","2           NaN             NaN           NaN                   NaN             NaN   \n","3           NaN             NaN           NaN                   NaN             NaN   \n","4           NaN             NaN           NaN                   NaN             NaN   \n","\n","   PubHousOcc_pct  \n","0             NaN  \n","1             NaN  \n","2             NaN  \n","3             NaN  \n","4             NaN  "],"text/html":["\n","  <div id=\"df-6ddc4816-1682-48b5-beb0-8cbbd8dbe541\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>GEOID10</th>\n","      <th>Bldg_loss_rate</th>\n","      <th>Bldg_loss_rate_pctile</th>\n","      <th>Bldg_loss_rate_ge90pct_lowinc</th>\n","      <th>Housing_burden_pct</th>\n","      <th>Housing_burden_pctile</th>\n","      <th>Housing_burden_ge90pct_lowinc</th>\n","      <th>Lead_pre1960</th>\n","      <th>Lead_pre1960_pctile</th>\n","      <th>Lead_ge90pct_value_lt90pct_lowinc</th>\n","      <th>Energy_bdn</th>\n","      <th>Energy_bdn_pctile</th>\n","      <th>Energy_bdn_pctile_lowinc</th>\n","      <th>HFL_BOTTLED GAS</th>\n","      <th>HFL_COAL</th>\n","      <th>HFL_ELECTRICITY</th>\n","      <th>HFL_FUEL OIL</th>\n","      <th>HFL_NONE</th>\n","      <th>HFL_OTHER</th>\n","      <th>HFL_SOLAR</th>\n","      <th>HFL_UTILITY GAS</th>\n","      <th>HFL_WOOD</th>\n","      <th>YBL6_1940-59</th>\n","      <th>YBL6_1960-79</th>\n","      <th>YBL6_1980-99</th>\n","      <th>YBL6_2000-09</th>\n","      <th>YBL6_2010</th>\n","      <th>YBL6_BEFORE 1940</th>\n","      <th>FPL15_0-100</th>\n","      <th>FPL15_100-150</th>\n","      <th>FPL15_150-200</th>\n","      <th>FPL15_200-400</th>\n","      <th>FPL15_400</th>\n","      <th>UNITS</th>\n","      <th>HINCP_UNITS</th>\n","      <th>ELEP_UNITS</th>\n","      <th>GASP_UNITS</th>\n","      <th>FULP_UNITS</th>\n","      <th>ELEP</th>\n","      <th>GASP</th>\n","      <th>FULP</th>\n","      <th>CDBG_HSG_COUNT</th>\n","      <th>CDBG_HSG_FUNDING_AMT</th>\n","      <th>OwnerOccPct</th>\n","      <th>RenterOccPct</th>\n","      <th>ProbOwner30pct</th>\n","      <th>ProbRenter30pct</th>\n","      <th>ProbALL30pct</th>\n","      <th>OwnerPre1960pct</th>\n","      <th>RentPre1960pct</th>\n","      <th>AllPre1960pct</th>\n","      <th>HCV_PUBLIC_PCT</th>\n","      <th>UAHB_COUNT</th>\n","      <th>FUND_DHB_AMT</th>\n","      <th>UAHOR_COUNT</th>\n","      <th>FUND_DHOR_AMT</th>\n","      <th>RENTAL_COUNT</th>\n","      <th>RENTAL_AMT</th>\n","      <th>OTHER_COUNT</th>\n","      <th>OTHER_AMT</th>\n","      <th>TOTAL_COUNT</th>\n","      <th>TOTAL_AMT</th>\n","      <th>UATOTHOA_COUNT</th>\n","      <th>UATOTHOA_AMT</th>\n","      <th>avg_NSP3NEED</th>\n","      <th>avg_PCT_LMMI</th>\n","      <th>avg_PCT_LM</th>\n","      <th>avg_HC_RATE</th>\n","      <th>avg_SDQ_RATE</th>\n","      <th>USPS_VAC_pct</th>\n","      <th>USPS_NS_pct</th>\n","      <th>HMDA_pct</th>\n","      <th>fore_STARTS_pct</th>\n","      <th>fore_REO_pct</th>\n","      <th>sum_IMPACT_pct</th>\n","      <th>PubHousCount</th>\n","      <th>TOTAL_DWELLING_UNITS</th>\n","      <th>TOTAL_OCCUPIED</th>\n","      <th>PubHousOcc_pct</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>10010201.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>10010202.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>1.00</td>\n","      <td>65517.50</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>10010203.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>10010204.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>10010205.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>0.00</td>\n","      <td>0.00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-6ddc4816-1682-48b5-beb0-8cbbd8dbe541')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-6ddc4816-1682-48b5-beb0-8cbbd8dbe541 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-6ddc4816-1682-48b5-beb0-8cbbd8dbe541');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-4b67a76c-580b-4c3a-a291-f989580e2472\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-4b67a76c-580b-4c3a-a291-f989580e2472')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-4b67a76c-580b-4c3a-a291-f989580e2472 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"housing"}},"metadata":{},"execution_count":17}],"source":["# Reload\n","\n","housing = pd.read_csv(curated +  '00060_Housing_national.csv')\n","housing = housing.drop(columns=[\"Unnamed: 0\"])\n","\n","housing.head()"]},{"cell_type":"code","source":["cols = housing.columns.to_list()\n","print(len(cols))\n","cols"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"jxiFhtiWc6V-","executionInfo":{"status":"ok","timestamp":1727817345060,"user_tz":300,"elapsed":2,"user":{"displayName":"Sandra Tilmon","userId":"02128196715661756059"}},"outputId":"d7b9119e-353b-48d9-a0e4-1061e925f448"},"execution_count":18,"outputs":[{"output_type":"stream","name":"stdout","text":["79\n"]},{"output_type":"execute_result","data":{"text/plain":["['GEOID10',\n"," 'Bldg_loss_rate',\n"," 'Bldg_loss_rate_pctile',\n"," 'Bldg_loss_rate_ge90pct_lowinc',\n"," 'Housing_burden_pct',\n"," 'Housing_burden_pctile',\n"," 'Housing_burden_ge90pct_lowinc',\n"," 'Lead_pre1960',\n"," 'Lead_pre1960_pctile',\n"," 'Lead_ge90pct_value_lt90pct_lowinc',\n"," 'Energy_bdn',\n"," 'Energy_bdn_pctile',\n"," 'Energy_bdn_pctile_lowinc',\n"," 'HFL_BOTTLED GAS',\n"," 'HFL_COAL',\n"," 'HFL_ELECTRICITY',\n"," 'HFL_FUEL OIL',\n"," 'HFL_NONE',\n"," 'HFL_OTHER',\n"," 'HFL_SOLAR',\n"," 'HFL_UTILITY GAS',\n"," 'HFL_WOOD',\n"," 'YBL6_1940-59',\n"," 'YBL6_1960-79',\n"," 'YBL6_1980-99',\n"," 'YBL6_2000-09',\n"," 'YBL6_2010',\n"," 'YBL6_BEFORE 1940',\n"," 'FPL15_0-100',\n"," 'FPL15_100-150',\n"," 'FPL15_150-200',\n"," 'FPL15_200-400',\n"," 'FPL15_400',\n"," 'UNITS',\n"," 'HINCP_UNITS',\n"," 'ELEP_UNITS',\n"," 'GASP_UNITS',\n"," 'FULP_UNITS',\n"," 'ELEP',\n"," 'GASP',\n"," 'FULP',\n"," 'CDBG_HSG_COUNT',\n"," 'CDBG_HSG_FUNDING_AMT',\n"," 'OwnerOccPct',\n"," 'RenterOccPct',\n"," 'ProbOwner30pct',\n"," 'ProbRenter30pct',\n"," 'ProbALL30pct',\n"," 'OwnerPre1960pct',\n"," 'RentPre1960pct',\n"," 'AllPre1960pct',\n"," 'HCV_PUBLIC_PCT',\n"," 'UAHB_COUNT',\n"," 'FUND_DHB_AMT',\n"," 'UAHOR_COUNT',\n"," 'FUND_DHOR_AMT',\n"," 'RENTAL_COUNT',\n"," 'RENTAL_AMT',\n"," 'OTHER_COUNT',\n"," 'OTHER_AMT',\n"," 'TOTAL_COUNT',\n"," 'TOTAL_AMT',\n"," 'UATOTHOA_COUNT',\n"," 'UATOTHOA_AMT',\n"," 'avg_NSP3NEED',\n"," 'avg_PCT_LMMI',\n"," 'avg_PCT_LM',\n"," 'avg_HC_RATE',\n"," 'avg_SDQ_RATE',\n"," 'USPS_VAC_pct',\n"," 'USPS_NS_pct',\n"," 'HMDA_pct',\n"," 'fore_STARTS_pct',\n"," 'fore_REO_pct',\n"," 'sum_IMPACT_pct',\n"," 'PubHousCount',\n"," 'TOTAL_DWELLING_UNITS',\n"," 'TOTAL_OCCUPIED',\n"," 'PubHousOcc_pct']"]},"metadata":{},"execution_count":18}]}],"metadata":{"colab":{"collapsed_sections":["RHW-yjPvmlI4"],"provenance":[],"toc_visible":true},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}